{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.52bf1fc07a6c564f2de8.hot-update.js","sources":["webpack:///./redux/sagas/card.js"],"sourcesContent":["import { takeEvery, put, call } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport {\r\n  FETCH_CARDS_START, FETCH_CARDS_START_STARTED,\r\n  FETCH_CARDS_SUCCESS_STARTED, FETCH_CARDS_FAIL_STARTED,\r\n  LIKE_CARD_REQUEST, UNLIKE_CARD_REQUEST, ADD_CARD_REPLY_REQUEST, DEL_CARD_REPLY_REQUEST,\r\n  LIKE_CARD_REQUEST_STARTED, LIKE_CARD_SUCCESS, LIKE_CARDS_FAIL,\r\n  UNLIKE_CARD_REQUEST_STARTED, UNLIKE_CARD_SUCCESS, UNLIKE_CARDS_FAIL,\r\n  ADD_CARD_REPLY_REQUEST_STARTED, ADD_CARD_REPLY_SUCCESS, ADD_CARD_REPLY_FAIL,\r\n  DEL_CARD_REPLY_REQUEST_STARTED, DEL_CARD_REPLY_SUCCESS, DEL_CARD_REPLY_FAIL,\r\n} from '../reducers/cardReducer';\r\n// import { SAGA_SIGN_IN } from '../reducers/sagaLoginReducer';\r\n\r\nconst fetchCard = function* fetchFollowing(action) {\r\n  try {\r\n    yield put({ type: FETCH_CARDS_START_STARTED });\r\n    const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\r\n      withCredentials: true,\r\n    });\r\n    yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\r\n  } catch (e) {\r\n    yield put({ type: FETCH_CARDS_FAIL_STARTED });\r\n  }\r\n};\r\nconst likeCard = function* LikeCard(action) {\r\n  try {\r\n    const likeData = {\r\n      index: action.payload.index,\r\n      boardId: action.payload.board_id,\r\n      userId: action.payload.username,\r\n    };\r\n    console.log(likeData);\r\n    const { data } = yield call([axios, 'post'], 'http://127.0.0.1:3001/insertLike', likeData, {\r\n      withCredentials: true,\r\n    });\r\n    console.log(data);\r\n    // yield put();\r\n  } catch (e) {\r\n    yield put();\r\n  }\r\n};\r\n\r\nconst unLikeCard = function* LikeCard(action) {\r\n  try {\r\n    const unlikeData = {\r\n      // index: action.payload.index,\r\n      boardId: action.payload.board_id,\r\n      userId: action.payload.username,\r\n    };\r\n    console.log(unlikeData);\r\n    const { data } = yield call([axios, 'post'], 'http://127.0.0.1:3001/deleteLike', unlikeData, {\r\n      withCredentials: true,\r\n    });\r\n    // console.log(data);\r\n    // yield put();\r\n  } catch (e) {\r\n    yield put();\r\n  }\r\n};\r\n\r\nexport const watchFetchCard = function* watchFetchCard() {\r\n  yield takeEvery(FETCH_CARDS_START, fetchCard);\r\n};\r\nexport const watchLikeCard = function* watchLikeCard() {\r\n  yield takeEvery(LIKE_CARD_REQUEST, likeCard);\r\n};\r\nexport const watchUnLikeCard = function* watchUnLikeCard() {\r\n  yield takeEvery(UNLIKE_CARD_REQUEST, unLikeCard);\r\n};\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAUA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAHA;AAAA;AAGA;AACA;AADA;AACA;AAJA;AAAA;AAGA;AAHA;AAMA;AAAA;AAAA;AAAA;AACA;AAPA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAUA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AAQA;AACA;AADA;AACA;AATA;AAAA;AAQA;AAGA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAcA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AAPA;AAQA;AACA;AADA;AACA;AATA;AAAA;AAQA;AARA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAcA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}