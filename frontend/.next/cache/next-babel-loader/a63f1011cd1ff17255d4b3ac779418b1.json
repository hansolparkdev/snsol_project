{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport { takeEvery, put, call } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { FETCH_CARDS_START, FETCH_CARDS_START_STARTED, FETCH_CARDS_SUCCESS_STARTED, FETCH_CARDS_FAIL_STARTED, LIKE_CARDS_REQUEST, LIKE_CARDS_REQUEST_STARTED, UNLIKE_CARDS_REQUEST, UNLIKE_CARDS_REQUEST_STARTED } from '../reducers/cardReducer'; // import { SAGA_SIGN_IN } from '../reducers/sagaLoginReducer';\n\nvar fetchCard = /*#__PURE__*/_regeneratorRuntime.mark(function fetchFollowing(action) {\n  var _ref, data;\n\n  return _regeneratorRuntime.wrap(function fetchFollowing$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return put({\n            type: FETCH_CARDS_START_STARTED\n          });\n\n        case 3:\n          _context.next = 5;\n          return call([axios, 'get'], \"http://127.0.0.1:3001/cards?userId=\".concat(action.payload), {\n            withCredentials: true\n          });\n\n        case 5:\n          _ref = _context.sent;\n          data = _ref.data;\n          _context.next = 9;\n          return put({\n            type: FETCH_CARDS_SUCCESS_STARTED,\n            payload: data\n          });\n\n        case 9:\n          _context.next = 15;\n          break;\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 15;\n          return put({\n            type: FETCH_CARDS_FAIL_STARTED\n          });\n\n        case 15:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, fetchFollowing, null, [[0, 11]]);\n});\n\nvar likeCard = /*#__PURE__*/_regeneratorRuntime.mark(function LikeCard(action) {\n  var _ref2, data;\n\n  return _regeneratorRuntime.wrap(function LikeCard$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return call([axios, 'get'], \"http://127.0.0.1:3001/cards?boardId=\".concat(action.payload.board_id), {\n            withCredentials: true\n          });\n\n        case 3:\n          _ref2 = _context2.sent;\n          data = _ref2.data;\n          console.log(data); // yield put({ type: })\n          // yield put({ type: FETCH_CARDS_START_STARTED });\n          // const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\n          //   withCredentials: true,\n          // });\n          // yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\n\n          _context2.next = 10;\n          break;\n\n        case 8:\n          _context2.prev = 8;\n          _context2.t0 = _context2[\"catch\"](0);\n\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, LikeCard, null, [[0, 8]]);\n}); // const unLikeCard = function* LikeCard(action) {\n//   try {\n//     yield put({ type: FETCH_CARDS_START_STARTED });\n//     const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\n//       withCredentials: true,\n//     });\n//     yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\n//   } catch (e) {\n//     yield put({ type: FETCH_CARDS_FAIL_STARTED });\n//   }\n// };\n\n\nexport var watchFetchCard = /*#__PURE__*/_regeneratorRuntime.mark(function watchFetchCard() {\n  return _regeneratorRuntime.wrap(function watchFetchCard$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return takeEvery(FETCH_CARDS_START, fetchCard);\n\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, watchFetchCard);\n});\nexport var watchLikeCard = /*#__PURE__*/_regeneratorRuntime.mark(function watchLikeCard() {\n  return _regeneratorRuntime.wrap(function watchLikeCard$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeEvery(LIKE_CARDS_REQUEST, likeCard);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, watchLikeCard);\n}); // const watchUnLikeCard = function* watchUnLikeCard() {\n//   yield takeEvery(UNLIKE_CARDS_REQUEST, unLikeCard);\n// };","map":{"version":3,"sources":["D:/Desktop/snsol_project/frontend/redux/sagas/card.js"],"names":["takeEvery","put","call","axios","FETCH_CARDS_START","FETCH_CARDS_START_STARTED","FETCH_CARDS_SUCCESS_STARTED","FETCH_CARDS_FAIL_STARTED","LIKE_CARDS_REQUEST","LIKE_CARDS_REQUEST_STARTED","UNLIKE_CARDS_REQUEST","UNLIKE_CARDS_REQUEST_STARTED","fetchCard","fetchFollowing","action","type","payload","withCredentials","data","likeCard","LikeCard","board_id","console","log","watchFetchCard","watchLikeCard"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,QAAqC,oBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,iBADF,EACqBC,yBADrB,EAEEC,2BAFF,EAE+BC,wBAF/B,EAGEC,kBAHF,EAGsBC,0BAHtB,EAIEC,oBAJF,EAIwBC,4BAJxB,QAKO,yBALP,C,CAMA;;AAEA,IAAMC,SAAS,yCAAG,SAAUC,cAAV,CAAyBC,MAAzB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEd,iBAAMb,GAAG,CAAC;AAAEc,YAAAA,IAAI,EAAEV;AAAR,WAAD,CAAT;;AAFc;AAAA;AAGG,iBAAMH,IAAI,CAAC,CAACC,KAAD,EAAQ,KAAR,CAAD,+CAAuDW,MAAM,CAACE,OAA9D,GAAyE;AAClGC,YAAAA,eAAe,EAAE;AADiF,WAAzE,CAAV;;AAHH;AAAA;AAGNC,UAAAA,IAHM,QAGNA,IAHM;AAAA;AAMd,iBAAMjB,GAAG,CAAC;AAAEc,YAAAA,IAAI,EAAET,2BAAR;AAAqCU,YAAAA,OAAO,EAAEE;AAA9C,WAAD,CAAT;;AANc;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAQd,iBAAMjB,GAAG,CAAC;AAAEc,YAAAA,IAAI,EAAER;AAAR,WAAD,CAAT;;AARc;AAAA;AAAA;AAAA;AAAA;AAAA,KAAUM,cAAV;AAAA,CAAH,CAAf;;AAWA,IAAMM,QAAQ,yCAAG,SAAUC,QAAV,CAAmBN,MAAnB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEI,iBAAMZ,IAAI,CAAC,CAACC,KAAD,EAAQ,KAAR,CAAD,gDAAwDW,MAAM,CAACE,OAAP,CAAeK,QAAvE,GAAmF;AAC5GJ,YAAAA,eAAe,EAAE;AAD2F,WAAnF,CAAV;;AAFJ;AAAA;AAELC,UAAAA,IAFK,SAELA,IAFK;AAKbI,UAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ,EALa,CAMb;AACA;AACA;AACA;AACA;AACA;;AAXa;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAUE,QAAV;AAAA,CAAH,CAAd,C,CAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,OAAO,IAAMI,cAAc,yCAAG,SAAUA,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAC5B,iBAAMxB,SAAS,CAACI,iBAAD,EAAoBQ,SAApB,CAAf;;AAD4B;AAAA;AAAA;AAAA;AAAA;AAAA,KAAUY,cAAV;AAAA,CAAH,CAApB;AAGP,OAAO,IAAMC,aAAa,yCAAG,SAAUA,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3B,iBAAMzB,SAAS,CAACQ,kBAAD,EAAqBW,QAArB,CAAf;;AAD2B;AAAA;AAAA;AAAA;AAAA;AAAA,KAAUM,aAAV;AAAA,CAAH,CAAnB,C,CAGP;AACA;AACA","sourcesContent":["import { takeEvery, put, call } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport {\r\n  FETCH_CARDS_START, FETCH_CARDS_START_STARTED,\r\n  FETCH_CARDS_SUCCESS_STARTED, FETCH_CARDS_FAIL_STARTED,\r\n  LIKE_CARDS_REQUEST, LIKE_CARDS_REQUEST_STARTED,\r\n  UNLIKE_CARDS_REQUEST, UNLIKE_CARDS_REQUEST_STARTED,\r\n} from '../reducers/cardReducer';\r\n// import { SAGA_SIGN_IN } from '../reducers/sagaLoginReducer';\r\n\r\nconst fetchCard = function* fetchFollowing(action) {\r\n  try {\r\n    yield put({ type: FETCH_CARDS_START_STARTED });\r\n    const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\r\n      withCredentials: true,\r\n    });\r\n    yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\r\n  } catch (e) {\r\n    yield put({ type: FETCH_CARDS_FAIL_STARTED });\r\n  }\r\n};\r\nconst likeCard = function* LikeCard(action) {\r\n  try {\r\n    const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?boardId=${action.payload.board_id}`, {\r\n      withCredentials: true,\r\n    });\r\n    console.log(data);\r\n    // yield put({ type: })\r\n    // yield put({ type: FETCH_CARDS_START_STARTED });\r\n    // const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\r\n    //   withCredentials: true,\r\n    // });\r\n    // yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\r\n  } catch (e) {\r\n    // yield put({ type: FETCH_CARDS_FAIL_STARTED });\r\n  }\r\n};\r\n\r\n// const unLikeCard = function* LikeCard(action) {\r\n//   try {\r\n//     yield put({ type: FETCH_CARDS_START_STARTED });\r\n//     const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\r\n//       withCredentials: true,\r\n//     });\r\n//     yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\r\n//   } catch (e) {\r\n//     yield put({ type: FETCH_CARDS_FAIL_STARTED });\r\n//   }\r\n// };\r\n\r\nexport const watchFetchCard = function* watchFetchCard() {\r\n  yield takeEvery(FETCH_CARDS_START, fetchCard);\r\n};\r\nexport const watchLikeCard = function* watchLikeCard() {\r\n  yield takeEvery(LIKE_CARDS_REQUEST, likeCard);\r\n};\r\n// const watchUnLikeCard = function* watchUnLikeCard() {\r\n//   yield takeEvery(UNLIKE_CARDS_REQUEST, unLikeCard);\r\n// };\r\n"]},"metadata":{},"sourceType":"module"}