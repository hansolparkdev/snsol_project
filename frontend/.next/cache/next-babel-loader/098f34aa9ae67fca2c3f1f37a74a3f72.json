{"ast":null,"code":"import { takeEvery, put, call } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { FETCH_CARDS_START, FETCH_CARDS_START_STARTED, FETCH_CARDS_SUCCESS_STARTED, FETCH_CARDS_FAIL_STARTED, LIKE_CARDS_REQUEST, LIKE_CARDS_REQUEST_STARTED, UNLIKE_CARDS_REQUEST, UNLIKE_CARDS_REQUEST_STARTED } from '../reducers/cardReducer'; // import { SAGA_SIGN_IN } from '../reducers/sagaLoginReducer';\n\nconst fetchCard = function* fetchFollowing(action) {\n  try {\n    yield put({\n      type: FETCH_CARDS_START_STARTED\n    });\n    const {\n      data\n    } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\n      withCredentials: true\n    });\n    yield put({\n      type: FETCH_CARDS_SUCCESS_STARTED,\n      payload: data\n    });\n  } catch (e) {\n    yield put({\n      type: FETCH_CARDS_FAIL_STARTED\n    });\n  }\n};\n\nconst likeCard = function* LikeCard(action) {\n  try {\n    yield put({\n      type: FETCH_CARDS_START_STARTED\n    });\n    const {\n      data\n    } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\n      withCredentials: true\n    });\n    yield put({\n      type: FETCH_CARDS_SUCCESS_STARTED,\n      payload: data\n    });\n  } catch (e) {\n    yield put({\n      type: FETCH_CARDS_FAIL_STARTED\n    });\n  }\n}; // const unLikeCard = function* LikeCard(action) {\n//   try {\n//     yield put({ type: FETCH_CARDS_START_STARTED });\n//     const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\n//       withCredentials: true,\n//     });\n//     yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\n//   } catch (e) {\n//     yield put({ type: FETCH_CARDS_FAIL_STARTED });\n//   }\n// };\n\n\nexport const watchFetchCard = function* watchFetchCard() {\n  yield takeEvery(FETCH_CARDS_START, fetchCard);\n};\nexport const watchLikeCard = function* watchLikeCard() {\n  yield takeEvery(LIKE_CARDS_REQUEST, likeCard);\n}; // const watchUnLikeCard = function* watchUnLikeCard() {\n//   yield takeEvery(UNLIKE_CARDS_REQUEST, unLikeCard);\n// };","map":{"version":3,"sources":["D:/Desktop/snsol_project/frontend/redux/sagas/card.js"],"names":["takeEvery","put","call","axios","FETCH_CARDS_START","FETCH_CARDS_START_STARTED","FETCH_CARDS_SUCCESS_STARTED","FETCH_CARDS_FAIL_STARTED","LIKE_CARDS_REQUEST","LIKE_CARDS_REQUEST_STARTED","UNLIKE_CARDS_REQUEST","UNLIKE_CARDS_REQUEST_STARTED","fetchCard","fetchFollowing","action","type","data","payload","withCredentials","e","likeCard","LikeCard","watchFetchCard","watchLikeCard"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,QAAqC,oBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,iBADF,EACqBC,yBADrB,EAEEC,2BAFF,EAE+BC,wBAF/B,EAGEC,kBAHF,EAGsBC,0BAHtB,EAIEC,oBAJF,EAIwBC,4BAJxB,QAKO,yBALP,C,CAMA;;AAEA,MAAMC,SAAS,GAAG,UAAUC,cAAV,CAAyBC,MAAzB,EAAiC;AACjD,MAAI;AACF,UAAMb,GAAG,CAAC;AAAEc,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAT;AACA,UAAM;AAAEW,MAAAA;AAAF,QAAW,MAAMd,IAAI,CAAC,CAACC,KAAD,EAAQ,KAAR,CAAD,EAAkB,sCAAqCW,MAAM,CAACG,OAAQ,EAAtE,EAAyE;AAClGC,MAAAA,eAAe,EAAE;AADiF,KAAzE,CAA3B;AAGA,UAAMjB,GAAG,CAAC;AAAEc,MAAAA,IAAI,EAAET,2BAAR;AAAqCW,MAAAA,OAAO,EAAED;AAA9C,KAAD,CAAT;AACD,GAND,CAME,OAAOG,CAAP,EAAU;AACV,UAAMlB,GAAG,CAAC;AAAEc,MAAAA,IAAI,EAAER;AAAR,KAAD,CAAT;AACD;AACF,CAVD;;AAWA,MAAMa,QAAQ,GAAG,UAAUC,QAAV,CAAmBP,MAAnB,EAA2B;AAC1C,MAAI;AACF,UAAMb,GAAG,CAAC;AAAEc,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAT;AACA,UAAM;AAAEW,MAAAA;AAAF,QAAW,MAAMd,IAAI,CAAC,CAACC,KAAD,EAAQ,KAAR,CAAD,EAAkB,sCAAqCW,MAAM,CAACG,OAAQ,EAAtE,EAAyE;AAClGC,MAAAA,eAAe,EAAE;AADiF,KAAzE,CAA3B;AAGA,UAAMjB,GAAG,CAAC;AAAEc,MAAAA,IAAI,EAAET,2BAAR;AAAqCW,MAAAA,OAAO,EAAED;AAA9C,KAAD,CAAT;AACD,GAND,CAME,OAAOG,CAAP,EAAU;AACV,UAAMlB,GAAG,CAAC;AAAEc,MAAAA,IAAI,EAAER;AAAR,KAAD,CAAT;AACD;AACF,CAVD,C,CAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,OAAO,MAAMe,cAAc,GAAG,UAAUA,cAAV,GAA2B;AACvD,QAAMtB,SAAS,CAACI,iBAAD,EAAoBQ,SAApB,CAAf;AACD,CAFM;AAGP,OAAO,MAAMW,aAAa,GAAG,UAAUA,aAAV,GAA0B;AACrD,QAAMvB,SAAS,CAACQ,kBAAD,EAAqBY,QAArB,CAAf;AACD,CAFM,C,CAGP;AACA;AACA","sourcesContent":["import { takeEvery, put, call } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport {\r\n  FETCH_CARDS_START, FETCH_CARDS_START_STARTED,\r\n  FETCH_CARDS_SUCCESS_STARTED, FETCH_CARDS_FAIL_STARTED,\r\n  LIKE_CARDS_REQUEST, LIKE_CARDS_REQUEST_STARTED,\r\n  UNLIKE_CARDS_REQUEST, UNLIKE_CARDS_REQUEST_STARTED,\r\n} from '../reducers/cardReducer';\r\n// import { SAGA_SIGN_IN } from '../reducers/sagaLoginReducer';\r\n\r\nconst fetchCard = function* fetchFollowing(action) {\r\n  try {\r\n    yield put({ type: FETCH_CARDS_START_STARTED });\r\n    const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\r\n      withCredentials: true,\r\n    });\r\n    yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\r\n  } catch (e) {\r\n    yield put({ type: FETCH_CARDS_FAIL_STARTED });\r\n  }\r\n};\r\nconst likeCard = function* LikeCard(action) {\r\n  try {\r\n    yield put({ type: FETCH_CARDS_START_STARTED });\r\n    const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\r\n      withCredentials: true,\r\n    });\r\n    yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\r\n  } catch (e) {\r\n    yield put({ type: FETCH_CARDS_FAIL_STARTED });\r\n  }\r\n};\r\n\r\n// const unLikeCard = function* LikeCard(action) {\r\n//   try {\r\n//     yield put({ type: FETCH_CARDS_START_STARTED });\r\n//     const { data } = yield call([axios, 'get'], `http://127.0.0.1:3001/cards?userId=${action.payload}`, {\r\n//       withCredentials: true,\r\n//     });\r\n//     yield put({ type: FETCH_CARDS_SUCCESS_STARTED, payload: data });\r\n//   } catch (e) {\r\n//     yield put({ type: FETCH_CARDS_FAIL_STARTED });\r\n//   }\r\n// };\r\n\r\nexport const watchFetchCard = function* watchFetchCard() {\r\n  yield takeEvery(FETCH_CARDS_START, fetchCard);\r\n};\r\nexport const watchLikeCard = function* watchLikeCard() {\r\n  yield takeEvery(LIKE_CARDS_REQUEST, likeCard);\r\n};\r\n// const watchUnLikeCard = function* watchUnLikeCard() {\r\n//   yield takeEvery(UNLIKE_CARDS_REQUEST, unLikeCard);\r\n// };\r\n"]},"metadata":{},"sourceType":"module"}