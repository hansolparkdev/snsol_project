{"ast":null,"code":"import { takeEvery, put, call } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { SET_USERNAME_STARTED, SET_PASSWORD_STARTED, SET_USERNAME, SET_PASSWORD, DO_LOGIN, DO_LOGIN_STARTED, DO_LOGIN_SUCCESS, DO_LOGIN_FAIL } from '../reducers/sagaLoginReducer'; // import { SAGA_SIGN_IN } from '../reducers/sagaLoginReducer';\n\nconst setUsername = function* setUsername(action) {\n  yield put({\n    type: SET_USERNAME_STARTED,\n    payload: action.payload\n  });\n};\n\nconst setPassword = function* setPassword(action) {\n  yield put({\n    type: SET_PASSWORD_STARTED,\n    payload: action.payload\n  });\n};\n\nconst doLogin = function* doLogin(action) {\n  yield console.log(action);\n  yield put({\n    type: DO_LOGIN_STARTED\n  });\n  const json = {\n    uid: action.payload.username,\n    upw: action.payload.password\n  };\n  console.log(json);\n  const {\n    data\n  } = yield call([axios, 'post'], 'http://127.0.0.1:3001/auth/signin', json);\n  console.log(data); // yield axios.post(\n  //   'http://127.0.0.1:3001/auth/signin',\n  //   {\n  //     uid: action.payload.username,\n  //     upw: action.payload.password,\n  //   },\n  // ).then((response) => {\n  //   put({ type: DO_LOGIN_SUCCESS });\n  // }).catch((err) => {\n  //   alert(err.response.data);\n  //   put({ type: DO_LOGIN_FAIL });\n  //   // idInput.current.value = '';\n  //   // pwInput.current.value = '';\n  //   // idInput.current.focus();\n  // });\n}; // const attemptLogin = () => {\n//   return Axios.get('http://127.0.0.1:3001/auth/siginin').then((response) => response.data);\n// };\n// watch\n\n\nexport const watchSetUsername = function* watchSetUsername() {\n  yield takeEvery(SET_USERNAME, setUsername);\n};\nexport const watchSetUserpassword = function* watchSetUserpassword() {\n  yield takeEvery(SET_PASSWORD, setPassword);\n};\nexport const watchLogin = function* watchLogin() {\n  yield takeEvery(DO_LOGIN, doLogin);\n};","map":{"version":3,"sources":["D:/Desktop/snsol_project/frontend/redux/sagas/login.js"],"names":["takeEvery","put","call","axios","SET_USERNAME_STARTED","SET_PASSWORD_STARTED","SET_USERNAME","SET_PASSWORD","DO_LOGIN","DO_LOGIN_STARTED","DO_LOGIN_SUCCESS","DO_LOGIN_FAIL","setUsername","action","type","payload","setPassword","doLogin","console","log","json","uid","username","upw","password","data","watchSetUsername","watchSetUserpassword","watchLogin"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,GAApB,EAAyBC,IAAzB,QAAqC,oBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,oBADF,EACwBC,oBADxB,EAEEC,YAFF,EAEgBC,YAFhB,EAE8BC,QAF9B,EAEwCC,gBAFxC,EAGEC,gBAHF,EAGoBC,aAHpB,QAIO,8BAJP,C,CAKA;;AAEA,MAAMC,WAAW,GAAG,UAAUA,WAAV,CAAsBC,MAAtB,EAA8B;AAChD,QAAMZ,GAAG,CAAC;AAAEa,IAAAA,IAAI,EAAEV,oBAAR;AAA8BW,IAAAA,OAAO,EAAEF,MAAM,CAACE;AAA9C,GAAD,CAAT;AACD,CAFD;;AAGA,MAAMC,WAAW,GAAG,UAAUA,WAAV,CAAsBH,MAAtB,EAA8B;AAChD,QAAMZ,GAAG,CAAC;AAAEa,IAAAA,IAAI,EAAET,oBAAR;AAA8BU,IAAAA,OAAO,EAAEF,MAAM,CAACE;AAA9C,GAAD,CAAT;AACD,CAFD;;AAGA,MAAME,OAAO,GAAG,UAAUA,OAAV,CAAkBJ,MAAlB,EAA0B;AACxC,QAAMK,OAAO,CAACC,GAAR,CAAYN,MAAZ,CAAN;AACA,QAAMZ,GAAG,CAAC;AAAEa,IAAAA,IAAI,EAAEL;AAAR,GAAD,CAAT;AACA,QAAMW,IAAI,GAAG;AACXC,IAAAA,GAAG,EAAER,MAAM,CAACE,OAAP,CAAeO,QADT;AAEXC,IAAAA,GAAG,EAAEV,MAAM,CAACE,OAAP,CAAeS;AAFT,GAAb;AAIAN,EAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACA,QAAM;AAAEK,IAAAA;AAAF,MAAW,MAAMvB,IAAI,CAAC,CAACC,KAAD,EAAQ,MAAR,CAAD,EAAkB,mCAAlB,EAAuDiB,IAAvD,CAA3B;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ,EATwC,CAUxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CAzBD,C,CA0BA;AACA;AACA;AAEA;;;AACA,OAAO,MAAMC,gBAAgB,GAAG,UAAUA,gBAAV,GAA6B;AAC3D,QAAM1B,SAAS,CAACM,YAAD,EAAeM,WAAf,CAAf;AACD,CAFM;AAGP,OAAO,MAAMe,oBAAoB,GAAG,UAAUA,oBAAV,GAAiC;AACnE,QAAM3B,SAAS,CAACO,YAAD,EAAeS,WAAf,CAAf;AACD,CAFM;AAIP,OAAO,MAAMY,UAAU,GAAG,UAAUA,UAAV,GAAuB;AAC/C,QAAM5B,SAAS,CAACQ,QAAD,EAAWS,OAAX,CAAf;AACD,CAFM","sourcesContent":["import { takeEvery, put, call } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport {\r\n  SET_USERNAME_STARTED, SET_PASSWORD_STARTED,\r\n  SET_USERNAME, SET_PASSWORD, DO_LOGIN, DO_LOGIN_STARTED,\r\n  DO_LOGIN_SUCCESS, DO_LOGIN_FAIL,\r\n} from '../reducers/sagaLoginReducer';\r\n// import { SAGA_SIGN_IN } from '../reducers/sagaLoginReducer';\r\n\r\nconst setUsername = function* setUsername(action) {\r\n  yield put({ type: SET_USERNAME_STARTED, payload: action.payload });\r\n};\r\nconst setPassword = function* setPassword(action) {\r\n  yield put({ type: SET_PASSWORD_STARTED, payload: action.payload });\r\n};\r\nconst doLogin = function* doLogin(action) {\r\n  yield console.log(action);\r\n  yield put({ type: DO_LOGIN_STARTED });\r\n  const json = {\r\n    uid: action.payload.username,\r\n    upw: action.payload.password,\r\n  };\r\n  console.log(json);\r\n  const { data } = yield call([axios, 'post'], 'http://127.0.0.1:3001/auth/signin', json);\r\n  console.log(data);\r\n  // yield axios.post(\r\n  //   'http://127.0.0.1:3001/auth/signin',\r\n  //   {\r\n  //     uid: action.payload.username,\r\n  //     upw: action.payload.password,\r\n  //   },\r\n  // ).then((response) => {\r\n  //   put({ type: DO_LOGIN_SUCCESS });\r\n  // }).catch((err) => {\r\n  //   alert(err.response.data);\r\n  //   put({ type: DO_LOGIN_FAIL });\r\n  //   // idInput.current.value = '';\r\n  //   // pwInput.current.value = '';\r\n  //   // idInput.current.focus();\r\n  // });\r\n};\r\n// const attemptLogin = () => {\r\n//   return Axios.get('http://127.0.0.1:3001/auth/siginin').then((response) => response.data);\r\n// };\r\n\r\n// watch\r\nexport const watchSetUsername = function* watchSetUsername() {\r\n  yield takeEvery(SET_USERNAME, setUsername);\r\n};\r\nexport const watchSetUserpassword = function* watchSetUserpassword() {\r\n  yield takeEvery(SET_PASSWORD, setPassword);\r\n};\r\n\r\nexport const watchLogin = function* watchLogin() {\r\n  yield takeEvery(DO_LOGIN, doLogin);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}