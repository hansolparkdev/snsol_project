{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\n/* eslint-disable no-nested-ternary */\n\n/* eslint-disable no-unused-expressions */\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FETCH_CARDS_START, LIKE_CARD_REQUEST, UNLIKE_CARD_REQUEST, ADD_CARD_REPLY_REQUEST } from '../../redux/reducers/cardReducer';\n\nconst Card = () => {\n  const login = useSelector(state => state.sagaLogin, []);\n  const {\n    fetchState,\n    card\n  } = useSelector(state => state.card, []);\n  const {\n    0: reply,\n    1: setReply\n  } = useState('');\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const fetchData = () => {\n      dispatch({\n        type: FETCH_CARDS_START,\n        payload: login.username\n      });\n    };\n\n    fetchData();\n  }, []); // console.log(card);\n\n  const clickLike = v => {\n    console.log('like', login.username, v.board_id);\n    const payload = {\n      username: login.username,\n      board_id: v.board_id\n    };\n    dispatch({\n      type: LIKE_CARD_REQUEST,\n      payload\n    });\n  };\n\n  const clickUnLike = v => {\n    console.log('unlike', login.username, v.board_id);\n    const payload = {\n      username: login.username,\n      board_id: v.board_id\n    };\n    dispatch({\n      type: UNLIKE_CARD_REQUEST,\n      payload\n    });\n  };\n\n  const changeReply = e => {\n    setReply({\n      [e.target.name]: e.target.value\n    });\n    console.log(reply);\n  };\n\n  const inserInput = (v, i) => {\n    console.log('reply', login.username, v.board_id, reply[i]);\n    const payload = {\n      username: login.username,\n      board_id: v.board_id,\n      desc: reply[i]\n    };\n    dispatch({\n      type: ADD_CARD_REPLY_REQUEST,\n      payload\n    });\n  };\n\n  return __jsx(Fragment, null, __jsx(\"div\", {\n    className: \"jsx-3865469941\" + \" \" + \"left_content\"\n  }, card.map((v, i) => __jsx(\"div\", {\n    key: i,\n    className: \"jsx-3865469941\" + \" \" + \"card main_card\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3865469941\"\n  }, __jsx(\"span\", {\n    className: \"jsx-3865469941\"\n  }, v.user_id)), __jsx(\"div\", {\n    className: \"jsx-3865469941\"\n  }, __jsx(\"span\", {\n    className: \"jsx-3865469941\"\n  }, v.title)), __jsx(\"div\", {\n    className: \"jsx-3865469941\"\n  }, v.desc), __jsx(\"div\", {\n    className: \"jsx-3865469941\" + \" \" + \"like\"\n  }, (username => {\n    const filter = v.likes.findIndex(e => e.user_id === username);\n\n    if (filter === -1) {\n      return __jsx(\"i\", {\n        \"aria-hidden\": \"true\",\n        onClick: () => clickLike(v),\n        className: \"jsx-3865469941\" + \" \" + \"fa fa-heart-o\"\n      });\n    }\n\n    return __jsx(\"i\", {\n      \"aria-hidden\": \"true\",\n      onClick: () => clickUnLike(v),\n      className: \"jsx-3865469941\" + \" \" + \"fa fa-heart\"\n    });\n  })(login.username), ' ', __jsx(\"span\", {\n    className: \"jsx-3865469941\"\n  }, v.likes.length === 0 ? 0 : v.likes.length === 1 ? `${v.likes[0].user_id}님이 좋아합니다.` : `${v.likes[0].user_id}님 외 ${v.likes.length - 1}명이 좋아합니다.`)), __jsx(\"div\", {\n    className: \"jsx-3865469941\"\n  }, __jsx(\"input\", {\n    type: \"text\",\n    value: reply.i,\n    name: i,\n    placeholder: \"\\uB313\\uAE00\",\n    onChange: changeReply,\n    className: \"jsx-3865469941\" + \" \" + \"reply_input\"\n  }), __jsx(\"input\", {\n    type: \"button\",\n    value: \"\\uC785\\uB825\",\n    onClick: () => inserInput(v, i),\n    className: \"jsx-3865469941\" + \" \" + \"reply_btn\"\n  })), __jsx(\"div\", {\n    className: \"jsx-3865469941\"\n  }, v.replies.map((e, vi) => __jsx(\"div\", {\n    key: vi,\n    className: \"jsx-3865469941\" + \" \" + \"reply_indi\"\n  }, __jsx(\"span\", {\n    calssName: \"reply_desc\",\n    className: \"jsx-3865469941\"\n  }, `${v.replies[vi].user_id} : ${v.replies[vi].desc}`), __jsx(\"span\", {\n    calssName: \"reply_del\",\n    className: \"jsx-3865469941\"\n  }, \"\\uC0AD\\uC81C\"))))))), __jsx(_JSXStyle, {\n    id: \"3865469941\"\n  }, \".left_content.jsx-3865469941{float:left;width:69%;margin-right:1%;}.main_card.jsx-3865469941{margin-bottom:10px;padding:10px;}.reply_input.jsx-3865469941{border:1px solid rgba(0,0,0,.125);width:90%;border-radius:5px;padding-left:10px;height:30px;}.reply_btn.jsx-3865469941{border:1px solid rgba(0,0,0,.125);width:10%;height:30px;border-radius:5px;}.like.jsx-3865469941{margin:5px 0;}.like.jsx-3865469941 i.jsx-3865469941{color:red;font-weight:700;font-size:13px;cursor:pointer;}.like.jsx-3865469941 span.jsx-3865469941{font-size:12px;}.reply_indi.jsx-3865469941{margin:5px 0;padding-left:10px;}.reply_desc.jsx-3865469941{display:block;float:left;}.reply_del.jsx-3865469941{float:right;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxEZXNrdG9wXFxzbnNvbF9wcm9qZWN0XFxmcm9udGVuZFxcY29tcG9uZW50c1xcbWFpblxcQ2FyZC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBdUdTLEFBR3VCLEFBS1EsQUFJZSxBQU9BLEFBTXJCLEFBR0gsQUFNSyxBQUdGLEFBSUMsQUFJRixVQWhCSSxDQXpCTixDQTBDWCxDQXBCQSxBQVlvQixDQUlSLENBUFosSUExQmMsRUFKSSxJQXNDbEIsQ0FiZ0IsS0FTaEIsQ0E3QkEsRUFHVyxBQU9BLEdBZFgsSUF5QmdCLEdBakJHLEFBT04sWUFDTSxBQVVuQixNQWpCbUIsWUFRbkIsTUFQYSxZQUNiIiwiZmlsZSI6IkQ6XFxEZXNrdG9wXFxzbnNvbF9wcm9qZWN0XFxmcm9udGVuZFxcY29tcG9uZW50c1xcbWFpblxcQ2FyZC5qc3giLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXN0ZWQtdGVybmFyeSAqL1xyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cclxuaW1wb3J0IFJlYWN0LCB7IEZyYWdtZW50LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IFxyXG4gIEZFVENIX0NBUkRTX1NUQVJULCBMSUtFX0NBUkRfUkVRVUVTVCxcclxuICBVTkxJS0VfQ0FSRF9SRVFVRVNULCBBRERfQ0FSRF9SRVBMWV9SRVFVRVNUXHJcbn0gZnJvbSAnLi4vLi4vcmVkdXgvcmVkdWNlcnMvY2FyZFJlZHVjZXInO1xyXG5cclxuY29uc3QgQ2FyZCA9ICgpID0+IHtcclxuICBjb25zdCBsb2dpbiA9IHVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUuc2FnYUxvZ2luLCBbXSk7XHJcbiAgY29uc3QgeyBmZXRjaFN0YXRlLCBjYXJkIH0gPSB1c2VTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLmNhcmQsIFtdKTtcclxuICBjb25zdCBbcmVwbHksIHNldFJlcGx5XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGZldGNoRGF0YSA9ICgpID0+IHtcclxuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBGRVRDSF9DQVJEU19TVEFSVCwgcGF5bG9hZDogbG9naW4udXNlcm5hbWUgfSk7XHJcbiAgICB9O1xyXG4gICAgZmV0Y2hEYXRhKCk7XHJcbiAgfSwgW10pO1xyXG4gIC8vIGNvbnNvbGUubG9nKGNhcmQpO1xyXG4gIGNvbnN0IGNsaWNrTGlrZSA9ICh2KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnbGlrZScsIGxvZ2luLnVzZXJuYW1lLCB2LmJvYXJkX2lkKTtcclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIHVzZXJuYW1lOiBsb2dpbi51c2VybmFtZSxcclxuICAgICAgYm9hcmRfaWQ6IHYuYm9hcmRfaWQsXHJcbiAgICB9O1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBMSUtFX0NBUkRfUkVRVUVTVCwgcGF5bG9hZCB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGNsaWNrVW5MaWtlID0gKHYpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCd1bmxpa2UnLCBsb2dpbi51c2VybmFtZSwgdi5ib2FyZF9pZCk7XHJcbiAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICB1c2VybmFtZTogbG9naW4udXNlcm5hbWUsXHJcbiAgICAgIGJvYXJkX2lkOiB2LmJvYXJkX2lkLFxyXG4gICAgfTtcclxuICAgIGRpc3BhdGNoKHsgdHlwZTogVU5MSUtFX0NBUkRfUkVRVUVTVCwgcGF5bG9hZCB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGNoYW5nZVJlcGx5ID0gKGUpID0+IHtcclxuICAgIHNldFJlcGx5KHtcclxuICAgICAgW2UudGFyZ2V0Lm5hbWVdOiBlLnRhcmdldC52YWx1ZSxcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2cocmVwbHkpO1xyXG4gIH07XHJcbiAgY29uc3QgaW5zZXJJbnB1dCA9ICh2LCBpKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygncmVwbHknLCBsb2dpbi51c2VybmFtZSwgdi5ib2FyZF9pZCwgcmVwbHlbaV0pO1xyXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgICAgdXNlcm5hbWU6IGxvZ2luLnVzZXJuYW1lLFxyXG4gICAgICBib2FyZF9pZDogdi5ib2FyZF9pZCxcclxuICAgICAgZGVzYzogcmVwbHlbaV0sXHJcbiAgICB9O1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBBRERfQ0FSRF9SRVBMWV9SRVFVRVNULCBwYXlsb2FkIH0pO1xyXG4gIH07XHJcbiAgcmV0dXJuIChcclxuICAgIDxGcmFnbWVudD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWZ0X2NvbnRlbnRcIj5cclxuICAgICAgICB7Y2FyZC5tYXAoKHYsIGkpID0+IChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZCBtYWluX2NhcmRcIiBrZXk9e2l9PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxzcGFuPnt2LnVzZXJfaWR9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8c3Bhbj57di50aXRsZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIHt2LmRlc2N9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpa2VcIj5cclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAoKHVzZXJuYW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlciA9IHYubGlrZXMuZmluZEluZGV4KChlKSA9PiBlLnVzZXJfaWQgPT09IHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlciA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPGkgY2xhc3NOYW1lPVwiZmEgZmEtaGVhcnQtb1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIG9uQ2xpY2s9eygpID0+IGNsaWNrTGlrZSh2KX0gLz47XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIDxpIGNsYXNzTmFtZT1cImZhIGZhLWhlYXJ0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgb25DbGljaz17KCkgPT4gY2xpY2tVbkxpa2Uodil9IC8+O1xyXG4gICAgICAgICAgICAgICAgfSkobG9naW4udXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHsnICd9XHJcbiAgICAgICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIHYubGlrZXMubGVuZ3RoID09PSAwID8gMFxyXG4gICAgICAgICAgICAgICAgICAgIDogdi5saWtlcy5sZW5ndGggPT09IDEgPyBgJHt2Lmxpa2VzWzBdLnVzZXJfaWR964uY7J20IOyii+yVhO2VqeuLiOuLpC5gXHJcbiAgICAgICAgICAgICAgICAgICAgICA6IGAke3YubGlrZXNbMF0udXNlcl9pZH3ri5gg7Jm4ICR7di5saWtlcy5sZW5ndGggLSAxfeuqheydtCDsoovslYTtlanri4jri6QuYFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwicmVwbHlfaW5wdXRcIiB2YWx1ZT17cmVwbHkuaX0gbmFtZT17aX0gcGxhY2Vob2xkZXI9XCLrjJPquIBcIiBvbkNoYW5nZT17Y2hhbmdlUmVwbHl9IC8+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJyZXBseV9idG5cIiB2YWx1ZT1cIuyeheugpVwiIG9uQ2xpY2s9eygpID0+IGluc2VySW5wdXQodiwgaSl9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHYucmVwbGllcy5tYXAoKGUsIHZpKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVwbHlfaW5kaVwiIGtleT17dml9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNhbHNzTmFtZT1cInJlcGx5X2Rlc2NcIj57YCR7di5yZXBsaWVzW3ZpXS51c2VyX2lkfSA6ICR7di5yZXBsaWVzW3ZpXS5kZXNjfWB9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNhbHNzTmFtZT1cInJlcGx5X2RlbFwiPuyCreygnDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAge2BcclxuICAgICAgICAgIC5sZWZ0X2NvbnRlbnR7XHJcbiAgICAgICAgICAgIGZsb2F0OmxlZnQ7XHJcbiAgICAgICAgICAgIHdpZHRoOjY5JTtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxJTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5tYWluX2NhcmR7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206MTBweDtcclxuICAgICAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnJlcGx5X2lucHV0e1xyXG4gICAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjEyNSk7XHJcbiAgICAgICAgICAgIHdpZHRoOjkwJTtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czo1cHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDoxMHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6MzBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5yZXBseV9idG57XHJcbiAgICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgcmdiYSgwLDAsMCwuMTI1KTtcclxuICAgICAgICAgICAgd2lkdGg6MTAlO1xyXG4gICAgICAgICAgICBoZWlnaHQ6MzBweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czo1cHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAubGlrZXtcclxuICAgICAgICAgICAgbWFyZ2luOjVweCAwO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmxpa2UgaXtcclxuICAgICAgICAgICAgY29sb3I6cmVkO1xyXG4gICAgICAgICAgICBmb250LXdlaWdodDo3MDA7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZToxM3B4O1xyXG4gICAgICAgICAgICBjdXJzb3I6cG9pbnRlcjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5saWtlIHNwYW57XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZToxMnB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnJlcGx5X2luZGl7XHJcbiAgICAgICAgICAgIG1hcmdpbjo1cHggMDtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnJlcGx5X2Rlc2N7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6YmxvY2s7XHJcbiAgICAgICAgICAgIGZsb2F0OmxlZnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAucmVwbHlfZGVse1xyXG4gICAgICAgICAgICBmbG9hdDpyaWdodDtcclxuICAgICAgICAgIH1cclxuICAgICAgICBgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgPC9GcmFnbWVudD5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\Desktop\\\\\\\\snsol_project\\\\\\\\frontend\\\\\\\\components\\\\\\\\main\\\\\\\\Card.jsx */\"));\n};\n\nexport default Card;","map":{"version":3,"sources":["D:/Desktop/snsol_project/frontend/components/main/Card.jsx"],"names":["React","Fragment","useEffect","useState","useDispatch","useSelector","FETCH_CARDS_START","LIKE_CARD_REQUEST","UNLIKE_CARD_REQUEST","ADD_CARD_REPLY_REQUEST","Card","login","state","sagaLogin","fetchState","card","reply","setReply","dispatch","fetchData","type","payload","username","clickLike","v","console","log","board_id","clickUnLike","changeReply","e","target","name","value","inserInput","i","desc","map","user_id","title","filter","likes","findIndex","length","replies","vi"],"mappings":"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","sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/* eslint-disable no-unused-expressions */\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { \r\n  FETCH_CARDS_START, LIKE_CARD_REQUEST,\r\n  UNLIKE_CARD_REQUEST, ADD_CARD_REPLY_REQUEST\r\n} from '../../redux/reducers/cardReducer';\r\n\r\nconst Card = () => {\r\n  const login = useSelector((state) => state.sagaLogin, []);\r\n  const { fetchState, card } = useSelector((state) => state.card, []);\r\n  const [reply, setReply] = useState('');\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    const fetchData = () => {\r\n      dispatch({ type: FETCH_CARDS_START, payload: login.username });\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  // console.log(card);\r\n  const clickLike = (v) => {\r\n    console.log('like', login.username, v.board_id);\r\n    const payload = {\r\n      username: login.username,\r\n      board_id: v.board_id,\r\n    };\r\n    dispatch({ type: LIKE_CARD_REQUEST, payload });\r\n  };\r\n  const clickUnLike = (v) => {\r\n    console.log('unlike', login.username, v.board_id);\r\n    const payload = {\r\n      username: login.username,\r\n      board_id: v.board_id,\r\n    };\r\n    dispatch({ type: UNLIKE_CARD_REQUEST, payload });\r\n  };\r\n  const changeReply = (e) => {\r\n    setReply({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    console.log(reply);\r\n  };\r\n  const inserInput = (v, i) => {\r\n    console.log('reply', login.username, v.board_id, reply[i]);\r\n    const payload = {\r\n      username: login.username,\r\n      board_id: v.board_id,\r\n      desc: reply[i],\r\n    };\r\n    dispatch({ type: ADD_CARD_REPLY_REQUEST, payload });\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <div className=\"left_content\">\r\n        {card.map((v, i) => (\r\n          <div className=\"card main_card\" key={i}>\r\n            <div>\r\n              <span>{v.user_id}</span>\r\n            </div>\r\n            <div>\r\n              <span>{v.title}</span>\r\n            </div>\r\n            <div>\r\n              {v.desc}\r\n            </div>\r\n            <div className=\"like\">\r\n              {\r\n                ((username) => {\r\n                  const filter = v.likes.findIndex((e) => e.user_id === username);\r\n                  if (filter === -1) {\r\n                    return <i className=\"fa fa-heart-o\" aria-hidden=\"true\" onClick={() => clickLike(v)} />;\r\n                  }\r\n                  return <i className=\"fa fa-heart\" aria-hidden=\"true\" onClick={() => clickUnLike(v)} />;\r\n                })(login.username)\r\n              }\r\n              {' '}\r\n              <span>\r\n                {\r\n                  v.likes.length === 0 ? 0\r\n                    : v.likes.length === 1 ? `${v.likes[0].user_id}님이 좋아합니다.`\r\n                      : `${v.likes[0].user_id}님 외 ${v.likes.length - 1}명이 좋아합니다.`\r\n                }\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <input type=\"text\" className=\"reply_input\" value={reply.i} name={i} placeholder=\"댓글\" onChange={changeReply} />\r\n              <input type=\"button\" className=\"reply_btn\" value=\"입력\" onClick={() => inserInput(v, i)} />\r\n            </div>\r\n            <div>\r\n              {\r\n                v.replies.map((e, vi) => (\r\n                  <div className=\"reply_indi\" key={vi}>\r\n                    <span calssName=\"reply_desc\">{`${v.replies[vi].user_id} : ${v.replies[vi].desc}`}</span>\r\n                    <span calssName=\"reply_del\">삭제</span>\r\n                  </div>\r\n                ))\r\n              }\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <style jsx>\r\n        {`\r\n          .left_content{\r\n            float:left;\r\n            width:69%;\r\n            margin-right: 1%;\r\n          }\r\n          .main_card{\r\n            margin-bottom:10px;\r\n            padding:10px;\r\n          }\r\n          .reply_input{\r\n            border:1px solid rgba(0,0,0,.125);\r\n            width:90%;\r\n            border-radius:5px;\r\n            padding-left:10px;\r\n            height:30px;\r\n          }\r\n          .reply_btn{\r\n            border:1px solid rgba(0,0,0,.125);\r\n            width:10%;\r\n            height:30px;\r\n            border-radius:5px;\r\n          }\r\n          .like{\r\n            margin:5px 0;\r\n          }\r\n          .like i{\r\n            color:red;\r\n            font-weight:700;\r\n            font-size:13px;\r\n            cursor:pointer;\r\n          }\r\n          .like span{\r\n            font-size:12px;\r\n          }\r\n          .reply_indi{\r\n            margin:5px 0;\r\n            padding-left: 10px;\r\n          }\r\n          .reply_desc{\r\n            display:block;\r\n            float:left;\r\n          }\r\n          .reply_del{\r\n            float:right;\r\n          }\r\n        `}\r\n      </style>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}