{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\n/* eslint-disable no-nested-ternary */\n\n/* eslint-disable no-unused-expressions */\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FETCH_CARDS_START, LIKE_CARD_REQUEST, UNLIKE_CARD_REQUEST, ADD_CARD_REPLY_REQUEST } from '../../redux/reducers/cardReducer';\n\nvar Card = function Card() {\n  var login = useSelector(function (state) {\n    return state.sagaLogin;\n  }, []);\n\n  var _useSelector = useSelector(function (state) {\n    return state.card;\n  }, []),\n      fetchState = _useSelector.fetchState,\n      card = _useSelector.card;\n\n  var _useState = useState(''),\n      reply = _useState[0],\n      setReply = _useState[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    var fetchData = function fetchData() {\n      dispatch({\n        type: FETCH_CARDS_START,\n        payload: login.username\n      });\n    };\n\n    fetchData();\n  }, []); // console.log(card);\n\n  var clickLike = function clickLike(v) {\n    console.log('like', login.username, v.board_id);\n    var payload = {\n      username: login.username,\n      board_id: v.board_id\n    };\n    dispatch({\n      type: LIKE_CARD_REQUEST,\n      payload: payload\n    });\n  };\n\n  var clickUnLike = function clickUnLike(v) {\n    console.log('unlike', login.username, v.board_id);\n    var payload = {\n      username: login.username,\n      board_id: v.board_id\n    };\n    dispatch({\n      type: UNLIKE_CARD_REQUEST,\n      payload: payload\n    });\n  };\n\n  var changeReply = function changeReply(e) {\n    setReply(_defineProperty({}, e.target.name, e.target.value));\n    console.log(reply);\n  };\n\n  var inserInput = function inserInput(v, i) {\n    console.log('reply', login.username, v.board_id, reply[i]);\n    var payload = {\n      username: login.username,\n      board_id: v.board_id,\n      desc: reply[i]\n    };\n    dispatch({\n      type: ADD_CARD_REPLY_REQUEST,\n      payload: payload\n    });\n  };\n\n  var delReply = function delReply(v) {\n    console.log('reply', login.username, v.board_id, reply[i]);\n  };\n\n  return __jsx(Fragment, null, __jsx(\"div\", {\n    className: \"jsx-2352128968\" + \" \" + \"left_content\"\n  }, card.map(function (v, i) {\n    return __jsx(\"div\", {\n      key: i,\n      className: \"jsx-2352128968\" + \" \" + \"card main_card\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2352128968\"\n    }, __jsx(\"span\", {\n      className: \"jsx-2352128968\"\n    }, v.user_id)), __jsx(\"div\", {\n      className: \"jsx-2352128968\"\n    }, __jsx(\"span\", {\n      className: \"jsx-2352128968\"\n    }, v.title)), __jsx(\"div\", {\n      className: \"jsx-2352128968\"\n    }, v.desc), __jsx(\"div\", {\n      className: \"jsx-2352128968\" + \" \" + \"like\"\n    }, function (username) {\n      var filter = v.likes.findIndex(function (e) {\n        return e.user_id === username;\n      });\n\n      if (filter === -1) {\n        return __jsx(\"i\", {\n          \"aria-hidden\": \"true\",\n          onClick: function onClick() {\n            return clickLike(v);\n          },\n          className: \"jsx-2352128968\" + \" \" + \"fa fa-heart-o\"\n        });\n      }\n\n      return __jsx(\"i\", {\n        \"aria-hidden\": \"true\",\n        onClick: function onClick() {\n          return clickUnLike(v);\n        },\n        className: \"jsx-2352128968\" + \" \" + \"fa fa-heart\"\n      });\n    }(login.username), ' ', __jsx(\"span\", {\n      className: \"jsx-2352128968\"\n    }, v.likes.length === 0 ? 0 : v.likes.length === 1 ? \"\".concat(v.likes[0].user_id, \"\\uB2D8\\uC774 \\uC88B\\uC544\\uD569\\uB2C8\\uB2E4.\") : \"\".concat(v.likes[0].user_id, \"\\uB2D8 \\uC678 \").concat(v.likes.length - 1, \"\\uBA85\\uC774 \\uC88B\\uC544\\uD569\\uB2C8\\uB2E4.\"))), __jsx(\"div\", {\n      className: \"jsx-2352128968\"\n    }, __jsx(\"input\", {\n      type: \"text\",\n      value: reply.i,\n      name: i,\n      placeholder: \"\\uB313\\uAE00\",\n      onChange: changeReply,\n      className: \"jsx-2352128968\" + \" \" + \"reply_input\"\n    }), __jsx(\"input\", {\n      type: \"button\",\n      value: \"\\uC785\\uB825\",\n      onClick: function onClick() {\n        return inserInput(v, i);\n      },\n      className: \"jsx-2352128968\" + \" \" + \"reply_btn\"\n    })), __jsx(\"div\", {\n      className: \"jsx-2352128968\"\n    }, v.replies.map(function (e, vi) {\n      return __jsx(\"div\", {\n        key: vi,\n        className: \"jsx-2352128968\" + \" \" + \"reply_indi\"\n      }, __jsx(\"span\", {\n        className: \"jsx-2352128968\" + \" \" + \"reply_desc\"\n      }, \"\".concat(v.replies[vi].user_id, \" : \").concat(v.replies[vi].desc)), __jsx(\"span\", {\n        className: \"jsx-2352128968\" + \" \" + \"reply_del\"\n      }, __jsx(\"button\", {\n        type: \"button\",\n        onClick: function onClick() {\n          return delReply(v);\n        },\n        className: \"jsx-2352128968\"\n      }, \"\\uC0AD\\uC81C\")));\n    })));\n  })), __jsx(_JSXStyle, {\n    id: \"2352128968\"\n  }, \".left_content.jsx-2352128968{float:left;width:69%;margin-right:1%;}.main_card.jsx-2352128968{margin-bottom:10px;padding:10px;}.reply_input.jsx-2352128968{border:1px solid rgba(0,0,0,.125);width:90%;border-radius:5px;padding-left:10px;height:30px;}.reply_btn.jsx-2352128968{border:1px solid rgba(0,0,0,.125);width:10%;height:30px;border-radius:5px;}.like.jsx-2352128968{margin:5px 0;}.like.jsx-2352128968 i.jsx-2352128968{color:red;font-weight:700;font-size:13px;cursor:pointer;}.like.jsx-2352128968 span.jsx-2352128968{font-size:12px;}.reply_indi.jsx-2352128968{margin:5px 50px 0 0;padding-left:7px;overflow:hidden;}.reply_desc.jsx-2352128968{display:block;float:left;}.reply_del.jsx-2352128968{float:right;}.reply_del.jsx-2352128968 button.jsx-2352128968{padding:5px 10px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxEZXNrdG9wXFxzbnNvbF9wcm9qZWN0XFxmcm9udGVuZFxcY29tcG9uZW50c1xcbWFpblxcQ2FyZC5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNkdTLEFBR3VCLEFBS1EsQUFJZSxBQU9BLEFBTXJCLEFBR0gsQUFNSyxBQUdLLEFBS04sQUFJRixBQUdLLFVBcEJELENBekJOLENBMkNYLENBckJBLENBaUJZLENBUlosRUFlQSxFQXpDYyxDQTZCSyxDQWpDRCxJQXVDbEIsQ0FkZ0IsTUFwQmhCLEVBR1csQUFPQSxHQWRYLEFBaUNpQixJQVJELEdBakJHLEFBT04sU0FtQmIsR0FsQm1CLEFBVW5CLE1BakJtQixZQVFuQixNQVBhLFlBQ2IiLCJmaWxlIjoiRDpcXERlc2t0b3BcXHNuc29sX3Byb2plY3RcXGZyb250ZW5kXFxjb21wb25lbnRzXFxtYWluXFxDYXJkLmpzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5ICovXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xyXG5pbXBvcnQgUmVhY3QsIHsgRnJhZ21lbnQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHtcclxuICBGRVRDSF9DQVJEU19TVEFSVCwgTElLRV9DQVJEX1JFUVVFU1QsXHJcbiAgVU5MSUtFX0NBUkRfUkVRVUVTVCwgQUREX0NBUkRfUkVQTFlfUkVRVUVTVCxcclxufSBmcm9tICcuLi8uLi9yZWR1eC9yZWR1Y2Vycy9jYXJkUmVkdWNlcic7XHJcblxyXG5jb25zdCBDYXJkID0gKCkgPT4ge1xyXG4gIGNvbnN0IGxvZ2luID0gdXNlU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5zYWdhTG9naW4sIFtdKTtcclxuICBjb25zdCB7IGZldGNoU3RhdGUsIGNhcmQgfSA9IHVzZVNlbGVjdG9yKChzdGF0ZSkgPT4gc3RhdGUuY2FyZCwgW10pO1xyXG4gIGNvbnN0IFtyZXBseSwgc2V0UmVwbHldID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgZmV0Y2hEYXRhID0gKCkgPT4ge1xyXG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IEZFVENIX0NBUkRTX1NUQVJULCBwYXlsb2FkOiBsb2dpbi51c2VybmFtZSB9KTtcclxuICAgIH07XHJcbiAgICBmZXRjaERhdGEoKTtcclxuICB9LCBbXSk7XHJcbiAgLy8gY29uc29sZS5sb2coY2FyZCk7XHJcbiAgY29uc3QgY2xpY2tMaWtlID0gKHYpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdsaWtlJywgbG9naW4udXNlcm5hbWUsIHYuYm9hcmRfaWQpO1xyXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcclxuICAgICAgdXNlcm5hbWU6IGxvZ2luLnVzZXJuYW1lLFxyXG4gICAgICBib2FyZF9pZDogdi5ib2FyZF9pZCxcclxuICAgIH07XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IExJS0VfQ0FSRF9SRVFVRVNULCBwYXlsb2FkIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgY2xpY2tVbkxpa2UgPSAodikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ3VubGlrZScsIGxvZ2luLnVzZXJuYW1lLCB2LmJvYXJkX2lkKTtcclxuICAgIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICAgIHVzZXJuYW1lOiBsb2dpbi51c2VybmFtZSxcclxuICAgICAgYm9hcmRfaWQ6IHYuYm9hcmRfaWQsXHJcbiAgICB9O1xyXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBVTkxJS0VfQ0FSRF9SRVFVRVNULCBwYXlsb2FkIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgY2hhbmdlUmVwbHkgPSAoZSkgPT4ge1xyXG4gICAgc2V0UmVwbHkoe1xyXG4gICAgICBbZS50YXJnZXQubmFtZV06IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhyZXBseSk7XHJcbiAgfTtcclxuICBjb25zdCBpbnNlcklucHV0ID0gKHYsIGkpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdyZXBseScsIGxvZ2luLnVzZXJuYW1lLCB2LmJvYXJkX2lkLCByZXBseVtpXSk7XHJcbiAgICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgICB1c2VybmFtZTogbG9naW4udXNlcm5hbWUsXHJcbiAgICAgIGJvYXJkX2lkOiB2LmJvYXJkX2lkLFxyXG4gICAgICBkZXNjOiByZXBseVtpXSxcclxuICAgIH07XHJcbiAgICBkaXNwYXRjaCh7IHR5cGU6IEFERF9DQVJEX1JFUExZX1JFUVVFU1QsIHBheWxvYWQgfSk7XHJcbiAgfTtcclxuICBjb25zdCBkZWxSZXBseSA9ICh2KSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygncmVwbHknLCBsb2dpbi51c2VybmFtZSwgdi5ib2FyZF9pZCwgcmVwbHlbaV0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8RnJhZ21lbnQ+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGVmdF9jb250ZW50XCI+XHJcbiAgICAgICAge2NhcmQubWFwKCh2LCBpKSA9PiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQgbWFpbl9jYXJkXCIga2V5PXtpfT5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8c3Bhbj57di51c2VyX2lkfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPHNwYW4+e3YudGl0bGV9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICB7di5kZXNjfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaWtlXCI+XHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgKCh1c2VybmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSB2Lmxpa2VzLmZpbmRJbmRleCgoZSkgPT4gZS51c2VyX2lkID09PSB1c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxpIGNsYXNzTmFtZT1cImZhIGZhLWhlYXJ0LW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIiBvbkNsaWNrPXsoKSA9PiBjbGlja0xpa2Uodil9IC8+O1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8aSBjbGFzc05hbWU9XCJmYSBmYS1oZWFydFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIG9uQ2xpY2s9eygpID0+IGNsaWNrVW5MaWtlKHYpfSAvPjtcclxuICAgICAgICAgICAgICAgIH0pKGxvZ2luLnVzZXJuYW1lKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB7JyAnfVxyXG4gICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB2Lmxpa2VzLmxlbmd0aCA9PT0gMCA/IDBcclxuICAgICAgICAgICAgICAgICAgICA6IHYubGlrZXMubGVuZ3RoID09PSAxID8gYCR7di5saWtlc1swXS51c2VyX2lkfeuLmOydtCDsoovslYTtlanri4jri6QuYFxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBgJHt2Lmxpa2VzWzBdLnVzZXJfaWR964uYIOyZuCAke3YubGlrZXMubGVuZ3RoIC0gMX3rqoXsnbQg7KKL7JWE7ZWp64uI64ukLmBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cInJlcGx5X2lucHV0XCIgdmFsdWU9e3JlcGx5Lml9IG5hbWU9e2l9IHBsYWNlaG9sZGVyPVwi64yT6riAXCIgb25DaGFuZ2U9e2NoYW5nZVJlcGx5fSAvPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwicmVwbHlfYnRuXCIgdmFsdWU9XCLsnoXroKVcIiBvbkNsaWNrPXsoKSA9PiBpbnNlcklucHV0KHYsIGkpfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2LnJlcGxpZXMubWFwKChlLCB2aSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlcGx5X2luZGlcIiBrZXk9e3ZpfT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyZXBseV9kZXNjXCI+e2Ake3YucmVwbGllc1t2aV0udXNlcl9pZH0gOiAke3YucmVwbGllc1t2aV0uZGVzY31gfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJyZXBseV9kZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IGRlbFJlcGx5KHYpfT7sgq3soJw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8c3R5bGUganN4PlxyXG4gICAgICAgIHtgXHJcbiAgICAgICAgICAubGVmdF9jb250ZW50e1xyXG4gICAgICAgICAgICBmbG9hdDpsZWZ0O1xyXG4gICAgICAgICAgICB3aWR0aDo2OSU7XHJcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMSU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAubWFpbl9jYXJke1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOjEwcHg7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6MTBweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5yZXBseV9pbnB1dHtcclxuICAgICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xMjUpO1xyXG4gICAgICAgICAgICB3aWR0aDo5MCU7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6NXB4O1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6MTBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OjMwcHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAucmVwbHlfYnRue1xyXG4gICAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjEyNSk7XHJcbiAgICAgICAgICAgIHdpZHRoOjEwJTtcclxuICAgICAgICAgICAgaGVpZ2h0OjMwcHg7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6NXB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLmxpa2V7XHJcbiAgICAgICAgICAgIG1hcmdpbjo1cHggMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5saWtlIGl7XHJcbiAgICAgICAgICAgIGNvbG9yOnJlZDtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6NzAwO1xyXG4gICAgICAgICAgICBmb250LXNpemU6MTNweDtcclxuICAgICAgICAgICAgY3Vyc29yOnBvaW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAubGlrZSBzcGFue1xyXG4gICAgICAgICAgICBmb250LXNpemU6MTJweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5yZXBseV9pbmRpe1xyXG4gICAgICAgICAgICBtYXJnaW46NXB4IDUwcHggMCAwO1xyXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDdweDtcclxuICAgICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLnJlcGx5X2Rlc2N7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6YmxvY2s7XHJcbiAgICAgICAgICAgIGZsb2F0OmxlZnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAucmVwbHlfZGVse1xyXG4gICAgICAgICAgICBmbG9hdDpyaWdodDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5yZXBseV9kZWwgYnV0dG9ue1xyXG4gICAgICAgICAgICBwYWRkaW5nOjVweCAxMHB4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9XHJcbiAgICAgIDwvc3R5bGU+XHJcbiAgICA8L0ZyYWdtZW50PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iXX0= */\\n/*@ sourceURL=D:\\\\\\\\Desktop\\\\\\\\snsol_project\\\\\\\\frontend\\\\\\\\components\\\\\\\\main\\\\\\\\Card.jsx */\"));\n};\n\nexport default Card;","map":{"version":3,"sources":["D:/Desktop/snsol_project/frontend/components/main/Card.jsx"],"names":["React","Fragment","useEffect","useState","useDispatch","useSelector","FETCH_CARDS_START","LIKE_CARD_REQUEST","UNLIKE_CARD_REQUEST","ADD_CARD_REPLY_REQUEST","Card","login","state","sagaLogin","card","fetchState","reply","setReply","dispatch","fetchData","type","payload","username","clickLike","v","console","log","board_id","clickUnLike","changeReply","e","target","name","value","inserInput","i","desc","delReply","map","user_id","title","filter","likes","findIndex","length","replies","vi"],"mappings":"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","sourcesContent":["/* eslint-disable no-nested-ternary */\r\n/* eslint-disable no-unused-expressions */\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  FETCH_CARDS_START, LIKE_CARD_REQUEST,\r\n  UNLIKE_CARD_REQUEST, ADD_CARD_REPLY_REQUEST,\r\n} from '../../redux/reducers/cardReducer';\r\n\r\nconst Card = () => {\r\n  const login = useSelector((state) => state.sagaLogin, []);\r\n  const { fetchState, card } = useSelector((state) => state.card, []);\r\n  const [reply, setReply] = useState('');\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    const fetchData = () => {\r\n      dispatch({ type: FETCH_CARDS_START, payload: login.username });\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  // console.log(card);\r\n  const clickLike = (v) => {\r\n    console.log('like', login.username, v.board_id);\r\n    const payload = {\r\n      username: login.username,\r\n      board_id: v.board_id,\r\n    };\r\n    dispatch({ type: LIKE_CARD_REQUEST, payload });\r\n  };\r\n  const clickUnLike = (v) => {\r\n    console.log('unlike', login.username, v.board_id);\r\n    const payload = {\r\n      username: login.username,\r\n      board_id: v.board_id,\r\n    };\r\n    dispatch({ type: UNLIKE_CARD_REQUEST, payload });\r\n  };\r\n  const changeReply = (e) => {\r\n    setReply({\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    console.log(reply);\r\n  };\r\n  const inserInput = (v, i) => {\r\n    console.log('reply', login.username, v.board_id, reply[i]);\r\n    const payload = {\r\n      username: login.username,\r\n      board_id: v.board_id,\r\n      desc: reply[i],\r\n    };\r\n    dispatch({ type: ADD_CARD_REPLY_REQUEST, payload });\r\n  };\r\n  const delReply = (v) => {\r\n    console.log('reply', login.username, v.board_id, reply[i]);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"left_content\">\r\n        {card.map((v, i) => (\r\n          <div className=\"card main_card\" key={i}>\r\n            <div>\r\n              <span>{v.user_id}</span>\r\n            </div>\r\n            <div>\r\n              <span>{v.title}</span>\r\n            </div>\r\n            <div>\r\n              {v.desc}\r\n            </div>\r\n            <div className=\"like\">\r\n              {\r\n                ((username) => {\r\n                  const filter = v.likes.findIndex((e) => e.user_id === username);\r\n                  if (filter === -1) {\r\n                    return <i className=\"fa fa-heart-o\" aria-hidden=\"true\" onClick={() => clickLike(v)} />;\r\n                  }\r\n                  return <i className=\"fa fa-heart\" aria-hidden=\"true\" onClick={() => clickUnLike(v)} />;\r\n                })(login.username)\r\n              }\r\n              {' '}\r\n              <span>\r\n                {\r\n                  v.likes.length === 0 ? 0\r\n                    : v.likes.length === 1 ? `${v.likes[0].user_id}님이 좋아합니다.`\r\n                      : `${v.likes[0].user_id}님 외 ${v.likes.length - 1}명이 좋아합니다.`\r\n                }\r\n              </span>\r\n            </div>\r\n            <div>\r\n              <input type=\"text\" className=\"reply_input\" value={reply.i} name={i} placeholder=\"댓글\" onChange={changeReply} />\r\n              <input type=\"button\" className=\"reply_btn\" value=\"입력\" onClick={() => inserInput(v, i)} />\r\n            </div>\r\n            <div>\r\n              {\r\n                v.replies.map((e, vi) => (\r\n                  <div className=\"reply_indi\" key={vi}>\r\n                    <span className=\"reply_desc\">{`${v.replies[vi].user_id} : ${v.replies[vi].desc}`}</span>\r\n                    <span className=\"reply_del\">\r\n                      <button type=\"button\" onClick={() => delReply(v)}>삭제</button>\r\n                    </span>\r\n                  </div>\r\n                ))\r\n              }\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <style jsx>\r\n        {`\r\n          .left_content{\r\n            float:left;\r\n            width:69%;\r\n            margin-right: 1%;\r\n          }\r\n          .main_card{\r\n            margin-bottom:10px;\r\n            padding:10px;\r\n          }\r\n          .reply_input{\r\n            border:1px solid rgba(0,0,0,.125);\r\n            width:90%;\r\n            border-radius:5px;\r\n            padding-left:10px;\r\n            height:30px;\r\n          }\r\n          .reply_btn{\r\n            border:1px solid rgba(0,0,0,.125);\r\n            width:10%;\r\n            height:30px;\r\n            border-radius:5px;\r\n          }\r\n          .like{\r\n            margin:5px 0;\r\n          }\r\n          .like i{\r\n            color:red;\r\n            font-weight:700;\r\n            font-size:13px;\r\n            cursor:pointer;\r\n          }\r\n          .like span{\r\n            font-size:12px;\r\n          }\r\n          .reply_indi{\r\n            margin:5px 50px 0 0;\r\n            padding-left: 7px;\r\n            overflow:hidden;\r\n          }\r\n          .reply_desc{\r\n            display:block;\r\n            float:left;\r\n          }\r\n          .reply_del{\r\n            float:right;\r\n          }\r\n          .reply_del button{\r\n            padding:5px 10px;\r\n          }\r\n        `}\r\n      </style>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}